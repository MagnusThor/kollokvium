!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(e,t,n,r){this.D=t,this.T=e,this.C=n,this.B=r}return Object.defineProperty(e.prototype,"JSON",{get:function(){return{T:this.T,D:JSON.stringify(this.D),C:this.C}},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return JSON.stringify(this.JSON)},e.fromArrayBuffer=function(e){return r.BinaryMessage.fromArrayBuffer(e)},e}();t.TextMessage=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(0),i=function(){function e(e,t){this.arrayBuffer=t,this.header=new Uint8Array(r.Utils.longToArray(e.length)),this.Buffer=this.joinBuffers(this.joinBuffers(this.header.buffer,r.Utils.stingToBuffer(e).buffer),t)}return e.fromArrayBuffer=function(e){var t=new Uint8Array(e),n=t.slice(0,8),i=r.Utils.arrayToLong(n),a=n.byteLength+i,s=t.slice(n.byteLength,a),c=e.byteLength-a,u=t.slice(a,c),l=JSON.parse(String.fromCharCode.apply(null,new Uint16Array(s)));return new o.TextMessage(l.T,l.D,l.C,u)},e.prototype.joinBuffers=function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer},e}();t.BinaryMessage=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.stingToBuffer=function(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=255&e.charCodeAt(r);return new Uint8Array(n)},e.arrayToLong=function(e){for(var t=0,n=e.byteLength-1;n>=0;n--)t=256*t+e[n];return t},e.longToArray=function(e){for(var t=new Uint8Array(8),n=t.length,r=0;r<n;r++){var o=255&e;t[r]=o,e=(e-o)/256}return t},e.newGuid=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},e}();t.Utils=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){this.fn=t,this.topic=e,this.count=0}}();t.Listener=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){this.videobandwidth=e,this.audiobandwidth=t}}();t.BandwidthConstraints=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=function(){function e(e,t){this.listeners=t||new Array,this.PeerChannels=new Array,this.Name=e}return e.prototype.findListener=function(e){return this.listeners.find(function(t){return t.topic===e})},e.prototype.On=function(e,t){var n=new o.Listener(e,t);return this.listeners.push(n),n},e.prototype.Off=function(e){var t=this.listeners.indexOf(this.findListener(e));t>=0&&this.listeners.splice(t,1)},e.prototype.OnOpen=function(e,t){},e.prototype.OnClose=function(e,t){},e.prototype.onMessage=function(e){var t=JSON.parse(e.data),n=this.findListener(t.T);n&&n.fn.apply(this,[JSON.parse(t.D)])},e.prototype.Close=function(){this.PeerChannels.forEach(function(e){e.dataChannel.close()})},e.prototype.Invoke=function(e,t,n){var o=this;return this.PeerChannels.forEach(function(n){"open"===n.dataChannel.readyState&&n.dataChannel.send(new r.TextMessage(e,t,o.Name).toString())}),this},e.prototype.addPeerChannel=function(e){this.PeerChannels.push(e)},e.prototype.removePeerChannel=function(e){var t=this.PeerChannels.find(function(t){return t.peerId===e}),n=this.PeerChannels.indexOf(t);n>-1&&this.PeerChannels.splice(n,1)},e}();t.DataChannel=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=function(){function e(e,t){var n=this;this.alias=e,this.ws=t,this.listeners=new Array,this.IsConnected=!1,this.On("___error",function(e){n.OnError(e)})}return e.prototype.OnError=function(e){},e.prototype.OnOpen=function(e){},e.prototype.OnClose=function(e){},e.prototype.Connect=function(){return this.ws.send(new r.TextMessage("___connect",{},this.alias).toString()),this},e.prototype.Close=function(){return this.ws.send(new r.TextMessage("___close",{},this.alias).toString()),this},e.prototype.Subscribe=function(e,t){return this.ws.send(new r.TextMessage("___subscribe",{topic:e,controller:this.alias},this.alias).toString()),this.On(e,t)},e.prototype.Unsubscribe=function(e){this.ws.send(new r.TextMessage("___unsubscribe",{topic:e,controller:this.alias},this.alias).toString())},e.prototype.On=function(e,t){var n=new o.Listener(e,t);return this.listeners.push(n),n},e.prototype.Off=function(e){var t=this.listeners.indexOf(this.findListener(e));t>=0&&this.listeners.splice(t,1)},e.prototype.findListener=function(e){return this.listeners.find(function(t){return t.topic===e})},e.prototype.InvokeBinary=function(e){if(e instanceof ArrayBuffer)return this.ws.send(e),this;throw"parameter provided must be an ArrayBuffer constructed by Client.BinaryMessage"},e.prototype.PublishBinary=function(e){if(e instanceof ArrayBuffer)return this.ws.send(e),this;throw"parameter provided must be an ArrayBuffer constructed by Client.BinaryMessage"},e.prototype.Invoke=function(e,t,n){return this.ws.send(new r.TextMessage(e,t,n||this.alias).toString()),this},e.prototype.Publish=function(e,t,n){return this.Invoke(e,t,n||this.alias),this},e.prototype.SetProperty=function(e,t,n){return this.Invoke(e,t,n||this.alias),this},e.prototype.Dispatch=function(e,t,n){if("___open"===e)return this.IsConnected=!0,void this.OnOpen(JSON.parse(t));if("___close"===e)this.OnClose([JSON.parse(t)]),this.IsConnected=!1;else{var r=this.findListener(e);r&&r.fn(JSON.parse(t),n)}},e}();t.Controller=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,n){this.peerId=e,this.dataChannel=t,this.label=n}}();t.PeerChannel=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(9),i=r(n(14));class a{constructor(e){this.id=e,this.videoTracks=new Array,this.audioTracks=new Array}addVideoTrack(e){this.videoTracks.push(e);let t=new MediaStream([e]);e.onended=(()=>{document.querySelector(".p"+this.id).remove()}),this.onVideoAdded(this.id,t)}addAudioTrack(e){this.audioTracks.push(e);let t=new Audio;t.autoplay=!0,t.srcObject=new MediaStream([e])}addTrack(e){"video"==e.kind?this.addVideoTrack(e):this.addAudioTrack(e)}}t.AppParticipant=a;class s{constructor(){this.rtcConfig={sdpSemantics:"plan-b",iceTransports:"all",rtcpMuxPolicy:"require",bundlePolicy:"max-bundle",iceServers:[{urls:"stun:stun.l.google.com:19302"}]},this.participants=new Map,this.Slug=location.hash.replace("#",""),this.fullScreenVideo=document.querySelector(".full");let e=document.querySelector("#slug"),t=document.querySelector("#joinconference");this.shareContainer=document.querySelector("#share-container");let n=document.querySelector(".chat"),r=document.querySelector("#chat-message"),a=document.querySelector("#chat-nick"),s=document.querySelector("#chatmessages"),c=document.querySelector("#mute-local-audio"),u=document.querySelector("#mute-local-video"),l=document.querySelector("#share-screen");c.addEventListener("click",e=>{this.muteAudio(e)}),u.addEventListener("click",e=>{this.muteVideo(e)}),l.addEventListener("click",()=>{this.shareScreen()});new i.default("#share-link",{text:t=>(t.textContent="Done!",location.origin+"/#"+e.value)});this.Slug.length>=6&&(e.value=this.Slug,t.disabled=!1),document.querySelector("#close-chat").addEventListener("click",()=>{n.classList.toggle("d-none")}),document.querySelector("#show-chat").addEventListener("click",()=>{n.classList.toggle("d-none")}),e.addEventListener("click",()=>{$("#slug").popover("show")}),e.addEventListener("keyup",()=>{e.value.length>=6?t.disabled=!1:t.disabled=!0}),a.value=Math.random().toString(36).substring(8),a.addEventListener("click",()=>{a.value=""}),t.addEventListener("click",()=>{document.querySelector("#share-screen").classList.add("hide"),document.querySelector(".our-brand").remove(),$("#slug").popover("hide"),t.classList.add("hide"),document.querySelector(".remote").classList.remove("hide"),document.querySelector(".overlay").classList.add("d-none"),document.querySelector(".join").classList.add("d-none"),this.rtcClient.ChangeContext(e.value)}),this.factory=this.connect("wss://kollokvium.herokuapp.com/",{}),this.factory.OnClose=(e=>{console.error(e)}),this.factory.OnOpen=(e=>{console.log("OnOpen",e),e.On("instantMessage",e=>{let t=document.createElement("p");t.textContent=e.text;let n=document.createElement("mark");n.textContent=e.from,t.prepend(n),s.prepend(t)}),r.addEventListener("keyup",e=>{13==e.keyCode&&(this.sendMessage(a.value,r.value),r.value="")}),this.rtcClient=new o.WebRTC(e,this.rtcConfig),this.rtcClient.OnLocalStream=(e=>{}),this.rtcClient.OnContextConnected=(e=>{}),this.rtcClient.OnContextCreated=(e=>{}),this.rtcClient.OnContextChanged=(e=>{this.rtcClient.ConnectContext(),console.log("looks like we are abut to join a context...",e)}),this.rtcClient.OnContextDisconnected=(e=>{document.querySelector(".p"+e.id).remove()}),this.rtcClient.OnContextConnected=(e=>{document.querySelector(".remote").classList.remove("hide")}),this.rtcClient.OnRemoteTrack=((e,t)=>{let n=this.tryAddParticipant(t.id);n.addTrack(e),console.log(n)}),this.rtcClient.OnContextCreated=function(e){console.log("got a context from the broker",e)},e.OnOpen=(e=>{console.log("connected to broker, no get a local media stream"),navigator.mediaDevices.getUserMedia({video:{width:{min:640,ideal:1280},height:{min:400,ideal:720}},audio:!0}).then(e=>{this.localMediaStream=e,this.rtcClient.AddLocalStream(e),this.addLocalVideo(e)}).catch(e=>{console.error(e)})}),e.Connect()})}shareScreen(){navigator.mediaDevices.getDisplayMedia({video:{cursor:"always"},audio:!1}).then(e=>{e.getVideoTracks().forEach(e=>{this.rtcClient.LocalStreams[0].addTrack(e)}),this.addLocalVideo(e),document.querySelector("#share-screen").classList.add("hide")}).catch(e=>console.error)}muteVideo(e){let t=e.target;t.classList.toggle("fa-video"),t.classList.toggle("fa-video-slash"),this.localMediaStream.getVideoTracks().forEach(e=>{e.enabled=!e.enabled})}muteAudio(e){let t=e.target;t.classList.toggle("fa-microphone"),t.classList.toggle("fa-microphone-slash"),this.localMediaStream.getAudioTracks().forEach(e=>{e.enabled=!e.enabled})}addLocalVideo(e){let t=document.createElement("video");t.autoplay=!0,t.srcObject=e,document.querySelector(".local").append(t)}sendMessage(e,t){0==e.length&&(e="NoName");const n={text:t,from:e};this.factory.GetController("broker").Invoke("instantMessage",n)}connect(e,t){return new o.Factory(e,["broker"])}addRemoteVideo(e,t){this.shareContainer.classList.contains("hide")||this.shareContainer.classList.add("hide");let n=document.createElement("video");n.classList.add("rounded","mx-auto","d-block"),n.srcObject=t,n.setAttribute("class","p"+e),n.autoplay=!0,document.querySelector("#remote-videos").append(n),n.addEventListener("click",e=>{this.fullScreenVideo.play(),this.fullScreenVideo.srcObject=e.target.srcObject})}tryAddParticipant(e){if(this.participants.has(e))return this.participants.get(e);{this.participants.set(e,new a(e));let t=this.participants.get(e);return t.onVideoAdded=((e,t)=>{console.log(e,t),this.addRemoteVideo(e,t)}),t}}static getInstance(){return new s}}t.App=s,document.addEventListener("DOMContentLoaded",()=>{s.getInstance()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.BandwidthConstraints=r.BandwidthConstraints;var o=n(1);t.BinaryMessage=o.BinaryMessage;var i=n(5);t.DataChannel=i.DataChannel;var a=n(10);t.Factory=a.Factory;var s=n(0);t.Message=s.TextMessage;var c=n(3);t.Listener=c.Listener;var u=n(7);t.PeerChannel=u.PeerChannel;var l=n(11);t.PropertyMessage=l.PropertyMessage;var d=n(6);t.Proxy=d.Controller;var f=n(2);t.Utils=f.Utils;var h=n(12);t.WebRTC=h.WebRTC},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(6),i=function(){function e(e,t,n){var i=this;this.url=e,this.controllers=new Map,this.ws=new WebSocket(e+this.toQuery(n||{})),this.ws.binaryType="arraybuffer",t.forEach(function(e){i.controllers.set(e,new o.Controller(e,i.ws))}),this.ws.onmessage=function(e){if("object"!=typeof e.data){var t=JSON.parse(e.data);i.GetController(t.C).Dispatch(t.T,t.D)}else{t=r.BinaryMessage.fromArrayBuffer(e.data);i.GetController(t.C).Dispatch(t.T,t.D,t.B)}},this.ws.onclose=function(e){i.IsConnected=!1,i.OnClose.apply(i,[e])},this.ws.onerror=function(e){i.OnError.apply(i,[e])},this.ws.onopen=function(e){i.IsConnected=!0,i.OnOpen.apply(i,Array.from(i.controllers.values()))}}return e.prototype.toQuery=function(e){return"?"+Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},e.prototype.Close=function(){this.ws.close()},e.prototype.GetController=function(e){return this.controllers.get(e)},e.prototype.RemoveController=function(e){this.controllers.delete(e)},e.prototype.OnOpen=function(e){},e.prototype.OnError=function(e){},e.prototype.OnClose=function(e){},e}();t.Factory=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(){return function(){this.messageId=r.Utils.newGuid()}}();t.PropertyMessage=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=n(7),i=n(5),a=n(4),s=function(){function e(e,t){var n=this;this.brokerController=e,this.rtcConfig=t,this.Errors=new Array,this.LocalStreams=new Array,this.DataChannels=new Map,this.Peers=new Map,this.brokerController.On("contextSignal",function(e){switch(JSON.parse(e.message).type){case"offer":n.onOffer(e);break;case"answer":n.onAnswer(e);break;case"candidate":n.onCandidate(e)}}),e.On("contextCreated",function(e){n.LocalPeerId=e.peerId,n.Context=e.context,n.OnContextCreated(e)}),e.On("contextChanged",function(e){n.Context=e,n.OnContextChanged(e)}),e.On("connectTo",function(e){n.onConnectTo(e)})}return e.prototype.onConnectTo=function(e){this.Connect(e)},e.prototype.onConnected=function(e){this.OnContextConnected(this.findPeerConnection(e),this.getPeerConnection(e))},e.prototype.OnDisconnected=function(e){var t=this.getPeerConnection(e);this.OnContextDisconnected(this.findPeerConnection(e),t),t.close(),this.removePeerConnection(e)},e.prototype.setBandwithConstraints=function(e,t){this.bandwidthConstraints=new a.BandwidthConstraints(e,t)},e.prototype.setMediaBitrates=function(e){return this.setMediaBitrate(this.setMediaBitrate(e,"video",this.bandwidthConstraints.videobandwidth),"audio",this.bandwidthConstraints.audiobandwidth)},e.prototype.setMediaBitrate=function(e,t,n){for(var r=e.split("\n"),o=-1,i=0;i<r.length;i++)if(0===r[i].indexOf("m="+t)){o=i;break}if(-1===o)return e;for(o++;0===r[o].indexOf("i=")||0===r[o].indexOf("c=");)o++;if(0===r[o].indexOf("b"))return r[o]="b=AS:"+n,r.join("\n");var a=r.slice(0,o);return a.push("b=AS:"+n),(a=a.concat(r.slice(o,r.length))).join("\n")},e.prototype.CreateDataChannel=function(e){var t=new i.DataChannel(e);return this.DataChannels.set(e,t),t},e.prototype.RemoveDataChannel=function(e){this.DataChannels.delete(e)},e.prototype.addError=function(e){this.OnError(e)},e.prototype.onCandidate=function(e){var t=this,n=JSON.parse(e.message).iceCandidate;this.getPeerConnection(e.sender).addIceCandidate(new RTCIceCandidate(n)).then(function(){}).catch(function(e){t.addError(e)})},e.prototype.onAnswer=function(e){var t=this;this.getPeerConnection(e.sender).setRemoteDescription(new RTCSessionDescription(JSON.parse(e.message))).then(function(e){}).catch(function(e){t.addError(e)})},e.prototype.onOffer=function(e){var t=this,n=this.getPeerConnection(e.sender);this.LocalStreams.forEach(function(e){e.getTracks().forEach(function(t){n.addTrack(t,e)})}),n.setRemoteDescription(new RTCSessionDescription(JSON.parse(e.message))),n.createAnswer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(function(r){n.setLocalDescription(r).then(function(){t.bandwidthConstraints&&(r.sdp=t.setMediaBitrates(r.sdp));var n={sender:t.LocalPeerId,recipient:e.sender,message:JSON.stringify(r)};t.brokerController.Invoke("contextSignal",n)}).catch(function(e){return t.addError(e)})}).catch(function(e){return t.addError(e)})},e.prototype.AddLocalStream=function(e){return this.LocalStreams.push(e),this},e.prototype.AddIceServer=function(e){return this.rtcConfig.iceServers.push(e),this},e.prototype.removePeerConnection=function(e){this.Peers.delete(e)},e.prototype.createPeerConnection=function(e){var t=this,n=new RTCPeerConnection(this.rtcConfig);return n.onsignalingstatechange=function(e){},n.onicecandidate=function(n){if(n&&n.candidate&&n.candidate){var r={sender:t.LocalPeerId,recipient:e,message:JSON.stringify({type:"candidate",iceCandidate:n.candidate})};t.brokerController.Invoke("contextSignal",r)}},n.oniceconnectionstatechange=function(n){switch(n.target.iceConnectionState){case"connected":t.onConnected(e);break;case"disconnected":t.OnDisconnected(e)}},n.ontrack=function(n){var r=t.Peers.get(e);r.stream.addTrack(n.track),t.OnRemoteTrack(n.track,r)},this.DataChannels.forEach(function(t){var r=new o.PeerChannel(e,n.createDataChannel(t.Name),t.Name);t.addPeerChannel(r),n.ondatachannel=function(n){var r=n.channel;r.onopen=function(n){t.OnOpen(n,e)},r.onclose=function(n){t.removePeerChannel(e),t.OnClose(n,e)},r.onmessage=function(e){t.onMessage(e)}}}),n},e.prototype.findPeerConnection=function(e){return this.Peers.get(e)},e.prototype.reconnectAll=function(){throw"not yet implemeted"},e.prototype.getPeerConnection=function(e){var t=this.Peers.get(e);if(!t){var n=new r.WebRTCConnection(e,this.createPeerConnection(e));return this.Peers.set(e,n),n.RTCPeer}return t.RTCPeer},e.prototype.createOffer=function(e){var t=this,n=this.createPeerConnection(e.peerId);return this.LocalStreams.forEach(function(e){e.getTracks().forEach(function(t){n.addTrack(t,e)}),t.OnLocalStream(e)}),n.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(function(r){n.setLocalDescription(r).then(function(){t.bandwidthConstraints&&(r.sdp=t.setMediaBitrates(r.sdp));var n={sender:t.LocalPeerId,recipient:e.peerId,message:JSON.stringify(r)};t.brokerController.Invoke("contextSignal",n)}).catch(function(e){t.addError(e)})}).catch(function(e){t.addError(e)}),n},e.prototype.Disconnect=function(){this.Peers.forEach(function(e){e.RTCPeer.close()}),this.ChangeContext(Math.random().toString(36).substring(2))},e.prototype.DisconnectPeer=function(e){this.findPeerConnection(e).RTCPeer.close()},e.prototype.Connect=function(e){var t=this;return e.forEach(function(e){var n=new r.WebRTCConnection(e.peerId,t.createOffer(e));t.Peers.set(e.peerId,n)}),this},e.prototype.ChangeContext=function(e){return this.brokerController.Invoke("changeContext",{context:e}),this},e.prototype.ConnectPeers=function(){this.brokerController.Invoke("connectContext",{})},e.prototype.ConnectContext=function(){this.ConnectPeers()},e}();t.WebRTC=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){this.id=e,this.RTCPeer=t,this.stream=new MediaStream}}();t.WebRTCConnection=r},function(e,t,n){
/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */
!function(t,n){e.exports=n()}(0,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(e),r.removeAllRanges(),r.addRange(o),t=r.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;i<a;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){var r=n(3),o=n(4);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(r.string(e))return function(e,t,n){return o(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(5);function o(e,t,n,o,i){var a=function(e,t,n,o){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&o.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}e.exports=function(e,t,n,r,i){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return o(e,t,n,r,i)}))}},function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=o()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=o()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),c=n(1),u=n.n(c),l=n(2),d=n.n(l),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a),h(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===f(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=d()(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return y("action",e)}},{key:"defaultTarget",value:function(e){var t=y("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return y("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}();function y(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}t.default=p}]).default})}]);